{
  "pipeline": {
    "name": "train"
  },
  "description": "A pipeline that trains the ML model on the tweets gathered by the `tweets` pipeline.",
  "transform": {
    "image": "pachyderm/gpt-2-example:v7",
    "cmd": [
      "/train.py",
      "774M",
      "5000"
    ]
  },
  "input": {
    "pfs": {
      "repo": "tweets",
      "glob": "/*"
    }
  },
  "resource_limits": {
    "gpu": {
      "type": "nvidia.com/gpu",
      "number": 1
    },
    "memory": "96G",
    "cpu": 1
  },
  "resource_requests": {
    "gpu": {
      "type": "nvidia.com/gpu",
      "number": 1
    },
    "memory": "96G",
    "cpu": 1
  },
  "scheduling_spec": {
    "node_selector": {
      "cloud.google.com/gke-accelerator": "nvidia-tesla-t4"
    }
  },
  "enable_stats": true,
  "standby": true
}
