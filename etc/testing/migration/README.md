# Migration test data

This directory contains sample data for testing pachyderm migration. In general,
it contains cluster metadata dumps generated by using the scripts contained in
version-specific directories to create sample repos and piplines in a pachyderm
cluster with the corresponding version, and then running `pachctl export` and
putting the result back in the corresponding directory (e.g. we'd create
pipelines in a Pachyderm 1.7 cluster with `1_7/sort.sh`, which would run
`pachctl export > 1_7/sort.dump`).

This way, our CI test suite can restore a pachyderm cluster from a pre-generated
dump file, to test the correctness of `restore`, without having to deploy a
pachyderm cluster with the old version of Pachyderm first.

Each version of Pachyderm has its own scripts for generating test data in case
our syntax for creating pipelines and such evolves. It will remain possible to
generate dumps from old versions of Pachyderm using scripts in the corresponding
directories.
